type AuthPayload {
  token: String
  user: User
}

type Dashboard {
  id: ID! @id
  createdAt: DateTime! @createdAt
  createdBy: User! @relation(name: "DashboardByUser")
  graphs: [Graph!]! @relation(name: "GraphInDashboard" onDelete: CASCADE)
  icon: String
  publicUrl: String
  title: String!
  updatedAt: DateTime! @updatedAt
  updateInterval: Int! @default(value: 900) # 15 minutes (15 * 60 seconds)
}

type Graph {
  id: ID! @id
  createdAt: DateTime! @createdAt
  createdBy: User! @relation(name: "GraphByUser")
  dashboard: Dashboard! @relation(name: "GraphInDashboard")
  icon: String
  publicUrl: String
  title: String!
  updatedAt: DateTime! @updatedAt
  updateInterval: Int! @default(value: 900) # 15 minutes (15 * 60 seconds)
}

type User {
  id: ID! @id
  createdAt: DateTime! @createdAt
  dashboards: [Dashboard!]! @relation(name: "DashboardByUser" onDelete: CASCADE)
  displayName: String!
  email: String! @unique
  graphs: [Graph!]! @relation(name: "GraphByUser" onDelete: CASCADE)
  password: String!
  updatedAt: DateTime! @updatedAt
}
